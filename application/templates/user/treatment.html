{% extends 'layout/layout.html' %}
{% from 'layout/helper.html' import breadcrumb, case_photo_modal %}

{% block style %} {% endblock style %}

{% block javascript %} {% endblock javascript %}

{% block title %}Patient Treatment{% endblock title %}


{% block breadcrumb %}
{{ breadcrumb({'Patient':  url_for('user_bp.index'), 'Treatment: ' + user.username: ''} ) }}
{% endblock breadcrumb %}

{% block pageheader %}
<div class="d-flex justify-content-between">
  <div class="h2 mt-1">Patient Treatment </div> 
  <div>
    <a class="btn btn-success mt-1" href="{{ url_for('user_bp.view', username=user.username) }}"><i class="fa-solid fa-circle-info"></i>&nbsp;Patient info</a>
    <a class="btn btn-primary mt-1" href="{{ url_for('user_bp.edit', username=user.username) }}"><i class="fa-solid fa-user-pen"></i>&nbsp;Edit patient info</a>
  </div>  
</div>  
{% endblock %}

{% block content %}

{% include 'user/_patient_info.html' %}


<div class="row">
  <div class="col">
    <div class="card mb-3">
      <div class="card-header d-flex justify-content-between">
        <span><b>Analysis</b></span>
        <a data-bs-toggle="collapse" data-bs-target="#patient-analysis" aria-expanded="false" href="javascript:void(0)" class="border px-3 text-muted">
          <i class="fa-solid fa-bars"></i>
        </a>
      </div>
      
      <div class="row g-0 collapse show" id="patient-analysis">
        <div class="col-md-8">
          <div class="p-3">
          {{user.analysis|safe}}
          <hr>
          <a class="btn btn-primary mt-1" href="{{ url_for('user_bp.analysis', username=user.username) }}"><i class="fa-solid fa-user-pen"></i>&nbsp;Edit Case Analysis</a>
          </div>
        </div>
        <div class="col-md-4">
          <div class="d-flex justify-content-evenly p-3">
          <img src="{{user.case_photo_1}}" class="img-thumbnail thumbnail-case-photo" alt="Case Photo" title="Click to Enlarge" data-bs-toggle="modal" data-bs-target="#case_photo_1" >
          <img src="{{user.case_photo_2}}" class="img-thumbnail thumbnail-case-photo" alt="Case Photo" title="Click to Enlarge" data-bs-toggle="modal" data-bs-target="#case_photo_2" >
          </div>
          <div class="d-flex justify-content-evenly p-3">
          <img src="{{user.case_photo_3}}" class="img-thumbnail thumbnail-case-photo" alt="Case Photo" title="Click to Enlarge" data-bs-toggle="modal" data-bs-target="#case_photo_3" >
          <img src="{{user.case_photo_4}}" class="img-thumbnail thumbnail-case-photo" alt="Case Photo" title="Click to Enlarge" data-bs-toggle="modal" data-bs-target="#case_photo_4" >
          </div>
        </div>
      </div>
      
    </div>
  </div>
</div>

{{case_photo_modal('case_photo_1',user.fullname, user.case_photo_1)}}
{{case_photo_modal('case_photo_2',user.fullname, user.case_photo_2)}}
{{case_photo_modal('case_photo_3',user.fullname, user.case_photo_3)}}
{{case_photo_modal('case_photo_4',user.fullname, user.case_photo_4)}}


{% endblock content %}